<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Text Time Machine</title>
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no">

<!-- Custom CSS -->
<link href="fontello-6daeaa21/css/fontello.css" rel="stylesheet" type="text/css"/ >
<link type="text/css" rel="stylesheet" href="css/ttm_styles.css"/ >


</head>
<body>
<!-- Message Contact -->
<section class="message-contact" id="message-contact">
    <header>
        <input type="search" class="search" placeholder="Search" />
    </header>
    <article>
    <!-- Contact Template -->
    	<div class="context" id="contact"></div>                
    </article>
    <footer>
	<nav>
        <div class="nav-icons">
        	<a href="settings.html" class="settings"><i class='icon-settings'></i></a>
            <a href="group.html" class="group"><i class='icon-group'></i></a>
            <a href="calendar.html" class="calendar"><i class='icon-calendar'></i></a>
            <a href="contacts.html" class="contact"><i class='icon-contact'></i></a>
            <a href="messaging.html" class="messages active"><i class='icon-messages'></i></a>
        </div>
	</nav>
	</footer>
</section> 

<!-- Message Contact -->
<section class="messaging" id="messaging">
    <header>
        <a href="#message-contact" class="back" id="back"><i class="icon-back"></i></a>
        <div class="messagecontact">David Ross</div>
        <a href="../calendar.html" class="calendar"><i class="icon-calendar"></i></a>
    </header>
    <article class="textcontent">
    	<div id="message"></div>
    </article>
    <footer>
		<nav>
	    	<div class="camera"><a href="#"><i class="icon-camera"></i></a></div>
	    	<div class="messageinput"><input type="text" class="text" /></div>
	    	<div class="ttm"><a href="#" id="ttm"><i class="icon-ttm"></i></a></div>
	    	<div class="ttmpicker" id="ttmpicker">
	    		<div class="dtleft"></div>
				<div class="dt"><input type="datetime-local" name="bdaytime" class="datetimes" placeholder="Today Now"></div>
				<div class="dtright"></div>
	    	</div>
		</nav>
	</footer>
</section>

<!-- JQuery JS -->
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/ttm.js"></script>
<!-- Mustache.js Tempate JS -->
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/0.8.1/mustache.min.js"></script>
<!-- Message Contact Script -->
<script type="text/javascript">
    $(function() {
        $.getJSON('data.json', function(data) {
            var template = $('#contacttemp').html();
            var html = Mustache.to_html(template, data);
            $('#contact').html(html);
        });
    }); 
</script>
<!-- Message Script -->
<script type="text/javascript">
    $(function() {
        $.getJSON('data.json', function(data) {
            var template = $('#messagetemp').html();
            var html = Mustache.to_html(template, data);
            $('#message').html(html);
        });
    }); 
</script>
<!-- Message Contact Template -->
<script id="contacttemp" type="text/template">
    {{#contacts}}
	<a href="#message">
    	<div class="contactbar">
			<div class="userimage {{userimage}}"></div>
			<div class="contacttext">
				<div class="name">{{name}}</div>
				<div class="message">{{message}}</div>	
			</div>
            <div class="time">{{time}}</div>
			<div class="alerts">
				<div class="alert {{bggreen}}"></div>
			</div>
		</div>
	</a>      
    {{/contacts}}
</script>
<!-- Message Template -->
<script id="messagetemp" type="text/template">
	{{#message}}
		<div class="{{who}}">
			<div class="datetime">
				<div class="date">{{date}}</div>
		    	<div class="time">{{time}}</div>
		    </div>{{text}}
		</div>
	{{/message}}
</script>
<!-- Date Time Picker and Display -->    
<script type="text/javascript">
$(document).ready(function(){
	$('#ttmpicker').css("display", "none");
		
	$('#ttm').on('click',function(event) {
 		if ($('#ttmpicker').css("display") == "none"){
	 		$('#ttmpicker').css("display", "block");
	 	}
	 	else {
	 		$('#ttmpicker').css("display", "none");
	 	}
	});

	$('#messaging').css("display", "none");
	
	$('#contact').on('click',function(event) {
 		if ($('#message-contact').css("display") == "none"){
	 		$('#message-contact').css("display", "block");
	 		$('#messaging').css("display", "none");
	 	}
	 	else {
	 		$('#message-contact').css("display", "none");
	 		$('#messaging').css("display", "block");
	 	}
	});
	
	$('#back').on('click',function(event) {
 		if ($('#message-contact').css("display") == "none"){
	 		$('#message-contact').css("display", "block");
	 		$('#messaging').css("display", "none");
	 	}
	 	else {
	 		$('#message-contact').css("display", "none");
	 		$('#messaging').css("display", "block");
	 	}
	});
});
</script>
</body>
</html>